<!DOCTYPE HTML>

<html lang="en">

<head>

  <meta name="viewport" content="width=device-width,
initial-scale=1.0">

  <meta charset="utf-8">

  <link rel="stylesheet" href="style.css">
  
  <title>Squarefield {{req.query.red}}-{{req.query.green}}-{{req.query.blue}} | Coloured Squares</title>

</head>

<body style="background-color:rgb({{req.query.red}},{{req.query.green}},{{req.query.blue}})">
  
  <header>
  
    <h1>Coloured Squares</h1>
  
  </header>
  
  <main>
    
    <form method="post" id="interface">

      <section id="left">

        <fieldset id="squarefield">

          <legend class="visually-hidden">Squares:</legend>

          {{#each field.squares}}

          <button type="submit" name="square" value={{@index}} class="square" style="background-color:rgb({{this.colour.red}},{{this.colour.green}},{{this.colour.blue}}); border-color:rgb({{this.author.red}},{{this.author.green}},{{this.author.blue}})">

            Colour: {{this.colour.red}},{{this.colour.green}},{{this.colour.blue}}
            Author: {{this.author.red}},{{this.author.green}},{{this.author.blue}}
            Date : {{this.date}}

          </button>

          {{/each}}

        </fieldset>

        <fieldset id="bottom">

          <legend hidden>Colour:</legend>

          <div id="sliders" style="display:none">

            <label class="visually-hidden" for="red">Red</label>
            <input id="slide-red" value="{{req.query.redSlider}}" type="range" name="slide-red" min="0" max="256" />
            <label class="visually-hidden" for="green">Green</label>
            <input id="slide-green" value="{{req.query.greenSlider}}" type="range" name="slide-green" min="0" max="256" />
            <label class="visually-hidden" for="blue">Blue</label>
            <input id="slide-blue" value="{{req.query.blueSlider}}" type="range" name="slide-blue" min="0" max="256" />

          </div>

          <div id="text-colours">

            <label class="visually-hidden" for="red">Red</label>
            <input style="color:red;" value="{{req.query.redSlider}}" type="number" name="red" min="0" max="256" />
            <label class="visually-hidden" for="green">Green</label>
            <input style="color:green;" value="{{req.query.greenSlider}}" type="number" name="green" min="0" max="256" />
            <label class="visually-hidden" for="blue">Blue</label>
            <input style="color:blue;" value="{{req.query.blueSlider}}" type="number" name="blue" min="0" max="256" />

          </div>

        </fieldset>

      </section>

      <section id="right">

        <div class="control-wrapper">
          <button style="border-color:rgb({{req.homeLastUpdated.colour.red}},{{req.homeLastUpdated.colour.green}},{{req.homeLastUpdated.colour.blue}}); background-color:rgb({{req.homeLastUpdated.author.red}},{{req.homeLastUpdated.author.green}},{{req.homeLastUpdated.author.blue}})" title="Paint: Paint over latest, Copy: Copy latest" type="submit" id="home" value="home" name="home">
          </button>
        </div>

        <legend class="visually-hidden">Mode:</legend>
        <div class="control-wrapper" id="paint-wrapper">
          <label for="paint">Paint</label>

          <input type="radio" name="mode" id="paint" value="paint" {{#ifCond req.query.mode "paint"}} checked {{/ifCond}} {{#unless req.query.mode}} checked {{/unless}}/>

        </div>

        <div class="control-wrapper" id="copy-inner-wrapper">
          <label for="copy-inner">Copy inner</label>
          <input type="radio" name="mode" id="copy-inner" value="copy-inner" {{#ifCond req.query.mode "copy-inner"}}checked{{/ifCond}}/>
        </div>

        <div class="control-wrapper" id="copy-outer-wrapper">
          <label for="copy-outer">Copy outer</label>
          <input type="radio" name="mode" id="copy-outer" value="copy-outer" {{#ifCond req.query.mode "copy-outer"}}checked{{/ifCond}}/>
        </div>

        <div class="control-wrapper">
          <button title="Copy: Copy current, Paint: Travel" style="border-color:rgb({{req.session.colour.red}},{{req.session.colour.green}},{{req.session.colour.blue}}); background-color:rgb({{req.query.redSlider}},{{req.query.greenSlider}},{{req.query.blueSlider}})" id="current" type="submit" name="current" value="current">
          </button>
        </div>

      </section>


    </form>

  </main>

  <script src="client.js"></script>

</body>

</html>
